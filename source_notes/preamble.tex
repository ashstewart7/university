% Some basic packages
\usepackage{amsmath, amsfonts, mathtools, amsthm, amssymb}
\usepackage[T1]{fontenc}
\usepackage{XCharter}
\usepackage[charter]{mathdesign}
\linespread{1.05}
\usepackage[utf8]{inputenc}
\usepackage{textcomp}
\usepackage[english]{babel}
\usepackage{url}
\usepackage{graphicx}
\usepackage{float}
\usepackage{booktabs}
\usepackage{enumitem}
\usepackage[a4paper, margin=2cm, left=1in, right=1in]{geometry}
\usepackage{parskip}
\usepackage{emptypage}
\usepackage{subcaption}
\usepackage{multicol}
\usepackage{xcolor}
\usepackage{mathrsfs}
\usepackage{cancel}
\usepackage[hidelinks]{hyperref}
\usepackage{tocloft}
\usepackage{xifthen}
\usepackage{accents}
\usepackage{titlesec}
\usepackage{esvect}

\newcommand\N{\ensuremath{\mathbb{N}}}
\newcommand\R{\ensuremath{\mathbb{R}}}
\newcommand\Z{\ensuremath{\mathbb{Z}}}
\renewcommand\O{\ensuremath{\emptyset}}
\newcommand\Q{\ensuremath{\mathbb{Q}}}
\newcommand\C{\ensuremath{\mathbb{C}}}
\newcommand\LL{\ensuremath{\mathcal{L}}}
\newcommand{\currentlecture}{}

\newtheorem*{DefNoLabel}{}

\addto\captionsenglish{
  \renewcommand{\contentsname}%
    {Lecture Index}%
}

\newcommand{\key}[1]{\fbox{#1}}
\setlength{\fboxsep}{3pt} 
\setlength{\fboxrule}{0.5pt}

\newcommand{\cftchapterdotsep}{\cftdotsep}
\renewcommand{\cftchapleader}{\cftdotfill{\cftchapterdotsep}}
\renewcommand{\cftpartfont}{\large\bfseries}
\renewcommand{\cftpartpagefont}{\large\bfseries}
\renewcommand{\cftpartleader}{\cftdotfill{\cftdotsep}} 
\renewcommand{\cftbeforepartskip}{2em} 
\renewcommand{\cftchapfont}{\bfseries} 
\renewcommand{\cftchappagefont}{\bfseries}
\renewcommand{\cftbeforechapskip}{0.2em}
\renewcommand{\cftchapindent}{2em}
\renewcommand{\cftchapfont}{\normalfont}
\renewcommand{\cftchappagefont}{\normalfont}

\newcommand{\currentmodule}{} 
\newcommand{\module}[1]{%
    \cleardoublepage
    \phantomsection
    \part*{#1}%
    \gdef\currentmodule{#1}%
}

\newcommand{\modulenopart}[1]{%
    \gdef\currentmodule{#1}%
}


\newcommand{\lecture}[3]{%
    \clearpage
    \phantomsection
    \refstepcounter{chapter}%
    \ifthenelse{\isempty{#3}}{%
        \def\@lecture{Lecture #1}%
        \def\@lecturenum{#1}%
        \def\@lecturetitle{#3}%
        \addcontentsline{toc}{chapter}{Lecture #1}%
        \chapter*{\small{#2}\\\LARGE{Lecture #1}}%
        \markboth{}{Lec #1}%
        \gdef\currentlecture{Lec #1}%
    }{%
        \def\@lecture{Lecture #1: #3}%
        \def\@lecturenum{#1}%
        \def\@lecturetitle{#3}%
        \addcontentsline{toc}{chapter}{Lecture #1: #3}%
        \chapter*{\small{#2}\\\LARGE{Lecture #1 - #3}}%
        \markboth{}{Lec #1 - #3}%
        \gdef\currentlecture{Lec #1 - #3}%
    }%
    \thispagestyle{fancy}%
}

\usepackage{tocloft}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}
\setcounter{tocdepth}{0}

\usepackage{fancyhdr}
\setlength{\headheight}{20pt}
\pagestyle{fancy}
\fancyhf{}
\fancyfoot[L]{\currentmodule}
\fancyhead[R]{\currentlecture}
\fancyhead[L]{Ash's Lecture Notes}
\fancyfoot[R]{Page \thepage}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

\usepackage{todonotes}
\usepackage{tcolorbox}

\tcbuselibrary{breakable}

\setlength{\abovedisplayskip}{10pt plus 2pt minus 5pt}
\setlength{\belowdisplayskip}{10pt plus 2pt minus 5pt}

\titleformat{\part}[display]
  {\normalfont\huge\bfseries\filcenter}
  {}
  {0pt}
  {\Huge}


\makeatletter
\@addtoreset{section}{chapter}
\@addtoreset{subsection}{section}

\renewcommand{\thesection}{\arabic{section}}
\renewcommand{\thesubsection}{\thesection.\arabic{subsection}}
\makeatother