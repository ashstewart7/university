\usepackage{amsmath, mathtools, amsthm}
\usepackage{siunitx}
\usepackage{cancel}
\usepackage{tikz-feynman}

\usepackage{stix2} 

\usepackage[a4paper, margin=2cm, left=1in, right=1in]{geometry}
\usepackage[english]{babel}
\usepackage{microtype}
\usepackage{parskip}
\usepackage{emptypage}
\usepackage{float}
\usepackage{booktabs}
\usepackage{enumitem}
\usepackage{multicol}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{subcaption}

\usepackage[hidelinks]{hyperref}
\usepackage{tocloft}
\usepackage{titlesec}
\usepackage{xifthen}
\usepackage{fancyhdr}
\usepackage[breakable]{tcolorbox}
\usepackage{todonotes}

\newcommand\N{\mathbb{N}}
\newcommand\R{\mathbb{R}}
\newcommand\Z{\mathbb{Z}}
\renewcommand\O{\emptyset}
\newcommand\Q{\mathbb{Q}}
\newcommand\C{\mathbb{C}}
\newcommand\LL{\mathcal{L}}
\newcommand{\currentlecture}{}
\newcommand{\currentmodule}{}
\newcommand{\semester}{}

\newtheorem*{DefNoLabel}{}

\newcommand{\key}[1]{\fbox{#1}}
\setlength{\fboxsep}{3pt} 
\setlength{\fboxrule}{0.5pt}

\addto\captionsenglish{\renewcommand{\contentsname}{Lecture Index}}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}
\renewcommand{\cftchapleader}{\cftdotfill{\cftdotsep}}
\setcounter{tocdepth}{0}

\setlength{\headheight}{20pt}
\pagestyle{fancy}
\fancyhf{}
\fancyfoot[L]{\currentmodule}
\fancyhead[C]{\currentlecture}
\fancyhead[R]{Ash's Lecture Notes}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

\titleformat{\part}[display]
  {\normalfont\huge\bfseries\filcenter}{}{0pt}{\Huge}

\makeatletter
\newcommand{\module}[1]{%
    \cleardoublepage\phantomsection\part*{#1}\gdef\currentmodule{#1}}

\newcommand{\modulenopart}[1]{\gdef\currentmodule{#1}}

\newcommand{\lecture}[3]{%
    \clearpage\phantomsection\refstepcounter{chapter}%
    \ifthenelse{\isempty{#3}}{%
        \addcontentsline{toc}{chapter}{Lecture #1}%
        \chapter*{\small{#2}\\\LARGE{Lecture #1}}%
        \gdef\currentlecture{Lec #1}%
    }{%
        \addcontentsline{toc}{chapter}{Lecture #1: #3}%
        \chapter*{\small{#2}\\\LARGE{Lecture #1 - #3}}%
        \gdef\currentlecture{Lec #1 - #3}%
    }\thispagestyle{fancy}}

\@addtoreset{section}{chapter}
\@addtoreset{subsection}{section}
\renewcommand{\thesection}{\arabic{section}}
\renewcommand{\thesubsection}{\thesection.\arabic{subsection}}

\renewcommand{\maketitle}{
\begin{titlepage}
    \centering\vspace*{6cm}
    \hrule height 0.8pt\vspace{0.8cm}
    {\LARGE\bfseries\@title\par}\vspace{0.3cm}
    {\large\semester\par}\vspace{0.8cm}
    \hrule height 0.8pt\vfill
    {\large\bfseries \@author \par}
    {\large MSci Physics with Particle Physics and Cosmology\par}   
    \large{University of Birmingham}
\end{titlepage}}
\makeatother

\setlength{\abovedisplayskip}{10pt plus 2pt minus 5pt}
\setlength{\belowdisplayskip}{10pt plus 2pt minus 5pt}